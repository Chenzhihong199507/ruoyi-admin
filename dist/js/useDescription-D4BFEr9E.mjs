var k=Object.defineProperty,E=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var z=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&z(e,n,t[n]);if($)for(var n of $(t))L.call(t,n)&&z(e,n,t[n]);return e},_=(e,t)=>E(e,F(t));import{D as I}from"./index-hMhHosxt.mjs";import{C as M}from"./index-D6mTUP6j.mjs";import{j as C}from"./bootstrap-CIlPtDbU.mjs";import{g as Q}from"./get-vP85LLZV.mjs";import{a9 as T,Q as j,a_ as q,J as P,a8 as s,n as g,ar as G,a4 as H,$ as K,x as U}from"../jse/index-index-CulmqKVw.mjs";function X(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!H(e)}const Y={bordered:{default:!0,type:Boolean},column:{default:()=>({lg:3,md:3,sm:2,xl:3,xs:1,xxl:4}),type:[Number,Object]},data:{type:Object},schema:{default:()=>[],type:Array},size:{default:"small",type:String,validator:e=>["default","middle","small",void 0].includes(e)},title:{default:"",type:String},useCollapse:{default:!0,type:Boolean}},ue=T({emits:["register"],name:"Description",props:Y,setup(e,{emit:t,slots:n}){const y=j(null),w="description",c=q(),h=P(()=>o(o({},e),s(y))),f=P(()=>_(o({},s(h)),{title:void 0})),x=P(()=>!!s(h).title),N=P(()=>o(o({},s(c)),s(f)));function R(r){y.value=o(o({},s(y)),r)}function W({label:r,labelMinWidth:d,labelStyle:u}){if(!u&&!d)return r;const a=_(o({},u),{minWidth:`${d}px `});return g("div",{style:a},[r])}function A(){const{data:r,schema:d}=s(f);return s(d).map(u=>{const{contentMinWidth:a,field:i,render:p,show:m,span:v}=u;if(m&&C(m)&&!m(r))return null;const O=()=>{var S;const l=(S=s(f))==null?void 0:S.data;if(!l)return null;const D=Q(l,i);return D&&!K(l).hasOwnProperty(i)?C(p)?p("",l):"":C(p)?p(D,l):D!=null?D:""},V=a;return g(I.Item,{key:i,label:W(u),span:v},{default:()=>{if(!a)return O();const l={minWidth:`${V}px`};return g("div",{style:l},[O()])}})}).filter(u=>!!u)}const b=()=>{let r;return g(I,G({class:`${w}`},s(N)),X(r=A())?r:{default:()=>[r]})},B=()=>{const r=e.useCollapse?b():g("div",null,[b()]);if(!e.useCollapse)return r;const{title:d}=s(h);function u(a,i="default",p){if(!a||!Reflect.has(a,i))return null;if(!C(a[i]))return console.error(`${i} is not a function!`),null;const m=a[i];if(!m)return null;const v=o({},p);return m(v)}return g(M,{size:e.size,title:d},{default:()=>r,extra:()=>u(n,"extra")})};return t("register",{setDescProps:R}),()=>s(x)?B():b()}});function ae(e){if(!U())throw new Error("useDescription() can only be used inside setup() or functional components!");const t=j(null),n=j(!1);function y(c){t.value=c,e&&c.setDescProps(e),n.value=!0}return[y,{setDescProps:(c,h=!1)=>{var f;if(!h){(f=s(t))==null||f.setDescProps(c);return}setTimeout(()=>{var x;return(x=s(t))==null?void 0:x.setDescProps(c)})}}]}export{ue as _,ae as u};
