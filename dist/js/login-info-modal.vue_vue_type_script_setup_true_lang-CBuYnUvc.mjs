import{u as m,_ as p}from"./useDescription-D4BFEr9E.mjs";import{g as _,a as d,b as c,r as f}from"./render-C5tDa4zc.mjs";import{K as a}from"./bootstrap-CIlPtDbU.mjs";import{n as u,a9 as b,at as g,au as S,av as h,a8 as n}from"../jse/index-index-CulmqKVw.mjs";import{u as N}from"./use-modal-BmBYziM1.mjs";const D=()=>[{component:"Input",fieldName:"ipaddr",label:"IP地址"},{component:"Input",fieldName:"userName",label:"用户账号"},{component:"Select",componentProps:{options:_(a.SYS_COMMON_STATUS)},fieldName:"status",label:"登录状态"},{component:"RangePicker",fieldName:"dateTime",label:"登录日期"}],I=[{type:"checkbox",width:60},{title:"用户账号",field:"userName"},{title:"登录平台",field:"clientKey"},{title:"IP地址",field:"ipaddr"},{title:"IP地点",field:"loginLocation",width:200},{title:"浏览器",field:"browser",slots:{default:({row:e})=>d(e.browser,!0)}},{title:"系统",field:"os",slots:{default:({row:e})=>{let t=e.os;if(t){const l=t.split(" or ");l.length===2&&(t=l[0])}return c(t,!0)}}},{title:"登录结果",field:"status",slots:{default:({row:e})=>f(e.status,a.SYS_COMMON_STATUS)}},{title:"信息",field:"msg"},{title:"日期",field:"loginTime"},{field:"action",fixed:"right",slots:{default:"action"},title:"操作",width:120}],w=()=>[{field:"status",label:"登录状态",labelMinWidth:80,render(e){return f(e,a.SYS_COMMON_STATUS)}},{field:"clientKey",label:"登录平台",render(e){return e?e.toUpperCase():""}},{field:"ipaddr",label:"账号信息",render(e,t){const{ipaddr:l,loginLocation:r,userName:s}=t;return`账号: ${s} / ${l} / ${r}`}},{field:"loginTime",label:"登录时间"},{field:"msg",label:"登录信息",render(e,t){const{msg:l,status:r}=t;return u("span",{class:["font-bold",r==="0"?"":"text-red-500"]},[l])}},{field:"os",label:"登录设备",render(e){return c(e)}},{field:"browser",label:"浏览器",render(e){return d(e)}}],P=b({__name:"login-info-modal",setup(e){const[t,{setDescProps:l}]=m({column:1,schema:w()}),[r,s]=N({onOpenChange:i=>{if(!i)return null;const o=s.getData();l({data:o},!0)}});return(i,o)=>(g(),S(n(r),{footer:!1,"fullscreen-button":!1,class:"w-[550px]",title:"登录日志"},{default:h(()=>[u(n(p),{onRegister:n(t)},null,8,["onRegister"])]),_:1}))}});export{P as _,I as c,D as q};
