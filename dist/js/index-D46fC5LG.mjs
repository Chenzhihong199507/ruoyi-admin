var z=Object.defineProperty;var _=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var x=(a,i,t)=>i in a?z(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,T=(a,i)=>{for(var t in i||(i={}))A.call(i,t)&&x(a,t,i[t]);if(_)for(var t of _(i))B.call(i,t)&&x(a,t,i[t]);return a};var f=(a,i,t)=>new Promise((b,m)=>{var k=r=>{try{l(t.next(r))}catch(u){m(u)}},p=r=>{try{l(t.throw(r))}catch(u){m(u)}},l=r=>r.done?b(r.value):Promise.resolve(r.value).then(k,p);l((t=t.apply(a,i)).next())});import{aq as N,M as O,bC as M}from"./bootstrap-CIlPtDbU.mjs";import"./vxe-table-CS5KFeE-.mjs";import{m as j,a as $,q as E,c as G,b as F}from"./modal-drawer-B9A3DumW.mjs";import{S as H}from"./index-BLUbi1M4.mjs";import{_ as L}from"./page.vue_vue_type_script_setup_true_lang-BEwXti9W.mjs";import{a9 as Q,Q as Y,b2 as W,br as I,at as y,au as h,av as n,n as g,a8 as d,aC as J,ap as D,aD as C,aG as v}from"../jse/index-index-CulmqKVw.mjs";import{u as K}from"./use-vxe-grid-CIpB4HOm.mjs";import{u as U}from"./use-drawer-0pSlBI5S.mjs";import{P as X}from"./index-BLw-otuj.mjs";import"./render-C5tDa4zc.mjs";import"./data-CRYXvPFo.mjs";import"./index-BsPmTjuM.mjs";import"./colors-DLErT_a-.mjs";import"./dict-D8K1MO7Q.mjs";import"./index-B9BKRmLN.mjs";import"./index-CY4pGJKi.mjs";import"./Col-CY1020A8.mjs";import"./responsiveObserve-CKY_yQR9.mjs";import"./useFlexGapSupport-UdCnRdDh.mjs";import"./Trigger-CxuUq1Ff.mjs";import"./ResizeObserver.es-CDE7jhPe.mjs";import"./get-vP85LLZV.mjs";import"./useRefs-DXDFWT8O.mjs";import"./collapseMotion-BYkmK0aG.mjs";import"./debounce-iPjm31B_.mjs";import"./index-CbGq_Vdo.mjs";import"./FormItemContext-D-XKVqk8.mjs";import"./isPlainObject-D3JZnYxx.mjs";import"./EyeOutlined-Bhfo9c26.mjs";import"./CheckOutlined-CIq9xGup.mjs";import"./useMergedState-DtLgCtQF.mjs";import"./uuid-BthZQwsx.mjs";import"./index-B-WsVPHD.mjs";import"./statusUtils-C-zQFcRu.mjs";import"./slide-B9Yt64p6.mjs";import"./index-CwX3_37I.mjs";import"./List-B93VJ5nE.mjs";import"./index-yiE2I97I.mjs";import"./Checkbox-C1LX6amp.mjs";import"./index-uwSnP2fA.mjs";import"./eagerComputed-Bboi8kUT.mjs";import"./index-epHOG_uQ.mjs";import"./index-MMlqTCj9.mjs";import"./index-aPtpRG1I.mjs";import"./Group-B1PMGyxu.mjs";import"./index-CeJhG9t7.mjs";import"./index-CkI6h8s8.mjs";import"./loading-7m7uS9S_.mjs";import"./icon-button.vue_vue_type_script_setup_true_lang-BMSbb8G-.mjs";import"./x-BK4QZNWW.mjs";import"./index-crWPCwF-.mjs";const Ue=Q({__name:"index",setup(a){const i=Y(""),t={commonConfig:{labelWidth:80},schema:E(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},b={checkboxConfig:{highlight:!0,reserve:!0},columns:G,height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(s,...w)=>f(this,[s,...w],function*({page:o},e={}){e!=null&&e.createTime?(e.params={beginTime:M(e.createTime[0]).format("YYYY-MM-DD 00:00:00"),endTime:M(e.createTime[1]).format("YYYY-MM-DD 23:59:59")},Reflect.deleteProperty(e,"createTime")):Reflect.deleteProperty(e,"params");const c=T({pageNum:o.currentPage,pageSize:o.pageSize},e);return i.value&&(c.dictType=i.value),yield F(c)})}},rowConfig:{isHover:!0,keyField:"dictCode"},round:!0,align:"center",showOverflow:!0},m=Y(!1),[k,p]=K({formOptions:t,gridOptions:b,gridEvents:{checkboxChange:o=>{m.value=o.records.length>0},checkboxAll:o=>{m.value=o.records.length>0}}}),[l,r]=U({connectedComponent:j});function u(){r.setData({}),r.open()}function q(o){return f(this,null,function*(){r.setData({id:o.id}),r.open()})}function S(o){return f(this,null,function*(){yield $(o.id),yield p.query()})}function P(){const e=p.grid.getCheckboxRecords().map(s=>s.id);O.confirm({title:"提示",okType:"danger",content:`确认删除选中的${e.length}条记录吗？`,onOk:()=>f(this,null,function*(){yield $(e),yield p.query()})})}return(o,e)=>{const s=W("a-button"),w=I("access");return y(),h(d(L),{"auto-content-height":!0},{default:n(()=>[g(d(k),null,{"toolbar-actions":n(()=>e[2]||(e[2]=[J("span",{class:"pl-[7px] text-[16px]"},"系统模型列表",-1)])),"toolbar-tools":n(()=>[g(d(H),null,{default:n(()=>[D((y(),h(s,{disabled:!m.value,danger:"",type:"primary",onClick:P},{default:n(()=>[C(v(o.$t("pages.common.delete")),1)]),_:1},8,["disabled"])),[[w,["system:dict:remove"],"code"]]),g(s,{type:"primary",onClick:u},{default:n(()=>[C(v(o.$t("pages.common.add")),1)]),_:1})]),_:1})]),action:n(({row:c})=>[D((y(),h(s,{size:"small",type:"link",onClick:R=>q(c)},{default:n(()=>[C(v(o.$t("pages.common.edit")),1)]),_:2},1032,["onClick"])),[[w,["system:dict:edit"],"code"]]),g(d(X),{placement:"left",title:"确认删除？",onConfirm:R=>S(c)},{default:n(()=>[D((y(),h(s,{danger:"",size:"small",type:"link",onClick:e[0]||(e[0]=N(()=>{},["stop"]))},{default:n(()=>[C(v(o.$t("pages.common.delete")),1)]),_:1})),[[w,["system:dict:remove"],"code"]])]),_:2},1032,["onConfirm"])]),_:1}),g(d(l),{onReload:e[1]||(e[1]=c=>d(p).query())})]),_:1})}}});export{Ue as default};
