var M=Object.defineProperty,R=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var g=(e,a,t)=>a in e?M(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,I=(e,a)=>{for(var t in a||(a={}))b.call(a,t)&&g(e,t,a[t]);if(z)for(var t of z(a))B.call(a,t)&&g(e,t,a[t]);return e},k=(e,a)=>R(e,S(a));var x=(e,a,t)=>new Promise((p,d)=>{var i=l=>{try{f(t.next(l))}catch(_){d(_)}},r=l=>{try{f(t.throw(l))}catch(_){d(_)}},f=l=>l.done?p(l.value):Promise.resolve(l.value).then(i,r);f((t=t.apply(e,a)).next())});import{R as N,C as V,M as j}from"./index-CzbPtRhx.mjs";import{I as P,aU as $}from"./bootstrap-CIlPtDbU.mjs";import q from"./CommandChart-BzT1NmXt.mjs";import D from"./MemoryChart-CtXp7mY2.mjs";import{_ as F}from"./RedisDescription.vue_vue_type_script_setup_true_lang-Jgz5RLjI.mjs";import{C as y}from"./index-D6mTUP6j.mjs";import{_ as L}from"./page.vue_vue_type_script_setup_true_lang-BEwXti9W.mjs";import{a9 as Q,X as U,Q as X,ak as A,at as u,au as c,av as o,n as m,a8 as s,aC as n,ay as C,aw as h,ax as w}from"../jse/index-index-CulmqKVw.mjs";import{R as E,C as v}from"./index-CwvHP01g.mjs";import"./create-icon-DyKWIynC.mjs";import"./use-echarts-2MV22j1u.mjs";import"./useDescription-D4BFEr9E.mjs";import"./index-hMhHosxt.mjs";import"./responsiveObserve-CKY_yQR9.mjs";import"./get-vP85LLZV.mjs";import"./useRefs-DXDFWT8O.mjs";import"./collapseMotion-BYkmK0aG.mjs";import"./index-BA6odBth.mjs";import"./index-epHOG_uQ.mjs";import"./Trigger-CxuUq1Ff.mjs";import"./ResizeObserver.es-CDE7jhPe.mjs";import"./slide-B9Yt64p6.mjs";import"./index-CwX3_37I.mjs";import"./index-CbGq_Vdo.mjs";import"./colors-DLErT_a-.mjs";import"./Dropdown-XTxBxfwO.mjs";import"./pick-TUD3VTZU.mjs";import"./useMergedState-DtLgCtQF.mjs";import"./isPlainObject-D3JZnYxx.mjs";import"./index-BmGsg0FM.mjs";import"./Col-CY1020A8.mjs";import"./useFlexGapSupport-UdCnRdDh.mjs";function G(){return P.get("/monitor/cache")}const H={class:"flex items-center justify-start gap-[6px]"},J={class:"flex items-center gap-[6px]"},K={class:"flex items-center justify-start gap-[6px]"},St=Q({__name:"index",setup(e){const a={lg:12,md:24,sm:24,xl:12,xs:24},t=U({command:[],memory:"0"}),p=X();A(()=>x(this,null,function*(){yield d()}));function d(){return x(this,null,function*(){try{const i=yield G(),r=(Number.parseInt(i.info.used_memory)/1024/1024).toFixed(2);t.memory=r,t.command=i.commandStats,p.value=k(I({},i.info),{dbSize:String(i.dbSize)})}catch(i){console.warn(i)}})}return(i,r)=>(u(),c(s(L),null,{default:o(()=>[m(s(E),{gutter:[15,15]},{default:o(()=>[m(s(v),{span:24},{default:o(()=>[m(s(y),{size:"small"},{title:o(()=>[n("div",H,[m(s(N),{class:"size-[16px]"}),r[0]||(r[0]=n("span",null,"redis信息",-1))])]),extra:o(()=>[m(s($),{size:"small",onClick:d},{default:o(()=>r[1]||(r[1]=[n("div",{class:"flex"},[n("span",{class:"icon-[charm--refresh]"})],-1)])),_:1})]),default:o(()=>[p.value?(u(),c(F,{key:0,data:p.value},null,8,["data"])):C("",!0)]),_:1})]),_:1}),m(s(v),h(w(a)),{default:o(()=>[m(s(y),{size:"small"},{title:o(()=>[n("div",J,[m(s(V),{class:"size-[16px]"}),r[2]||(r[2]=n("span",null,"命令统计",-1))])]),default:o(()=>[t.command.length>0?(u(),c(q,{key:0,data:t.command},null,8,["data"])):C("",!0)]),_:1})]),_:1},16),m(s(v),h(w(a)),{default:o(()=>[m(s(y),{size:"small"},{title:o(()=>[n("div",K,[m(s(j),{class:"size-[16px]"}),r[3]||(r[3]=n("span",null,"内存占用",-1))])]),default:o(()=>[t.memory!=="0"?(u(),c(D,{key:0,data:t.memory},null,8,["data"])):C("",!0)]),_:1})]),_:1},16)]),_:1})]),_:1}))}});export{St as default};
