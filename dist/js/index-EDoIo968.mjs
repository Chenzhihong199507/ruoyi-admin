var V=Object.defineProperty;var x=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var D=(i,o,e)=>o in i?V(i,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[o]=e,$=(i,o)=>{for(var e in o||(o={}))S.call(o,e)&&D(i,e,o[e]);if(x)for(var e of x(o))B.call(o,e)&&D(i,e,o[e]);return i};var _=(i,o,e)=>new Promise((b,m)=>{var k=a=>{try{c(e.next(a))}catch(u){m(u)}},d=a=>{try{c(e.throw(a))}catch(u){m(u)}},c=a=>a.done?b(a.value):Promise.resolve(a.value).then(k,d);c((e=e.apply(i,o)).next())});import{aq as E}from"./bootstrap-CIlPtDbU.mjs";import"./vxe-table-CS5KFeE-.mjs";import{m as F,a as N}from"./index-DV03ZwLB.mjs";import{q as O,_ as z,c as G}from"./menu-drawer.vue_vue_type_script_setup_true_lang-DsP3F9WJ.mjs";import{S as A}from"./index-BLUbi1M4.mjs";import{_ as M}from"./page.vue_vue_type_script_setup_true_lang-BEwXti9W.mjs";import{a9 as P,b2 as R,br as j,at as y,au as w,av as r,n as s,a8 as l,aC as H,aD as f,aG as g,ap as h}from"../jse/index-index-CulmqKVw.mjs";import{u as L}from"./use-vxe-grid-CIpB4HOm.mjs";import{u as W}from"./use-drawer-0pSlBI5S.mjs";import{P as J}from"./index-BLw-otuj.mjs";import{l as K}from"./tree-DR0G1ezI.mjs";import"./render-C5tDa4zc.mjs";import"./data-CRYXvPFo.mjs";import"./index-BsPmTjuM.mjs";import"./colors-DLErT_a-.mjs";import"./dict-D8K1MO7Q.mjs";import"./index-B9BKRmLN.mjs";import"./index-CY4pGJKi.mjs";import"./Col-CY1020A8.mjs";import"./responsiveObserve-CKY_yQR9.mjs";import"./useFlexGapSupport-UdCnRdDh.mjs";import"./Trigger-CxuUq1Ff.mjs";import"./ResizeObserver.es-CDE7jhPe.mjs";import"./get-vP85LLZV.mjs";import"./useRefs-DXDFWT8O.mjs";import"./collapseMotion-BYkmK0aG.mjs";import"./debounce-iPjm31B_.mjs";import"./index-CbGq_Vdo.mjs";import"./FormItemContext-D-XKVqk8.mjs";import"./isPlainObject-D3JZnYxx.mjs";import"./EyeOutlined-Bhfo9c26.mjs";import"./CheckOutlined-CIq9xGup.mjs";import"./useMergedState-DtLgCtQF.mjs";import"./uuid-BthZQwsx.mjs";import"./index-B-WsVPHD.mjs";import"./statusUtils-C-zQFcRu.mjs";import"./slide-B9Yt64p6.mjs";import"./index-CwX3_37I.mjs";import"./List-B93VJ5nE.mjs";import"./index-yiE2I97I.mjs";import"./Checkbox-C1LX6amp.mjs";import"./index-uwSnP2fA.mjs";import"./eagerComputed-Bboi8kUT.mjs";import"./index-epHOG_uQ.mjs";import"./index-MMlqTCj9.mjs";import"./index-aPtpRG1I.mjs";import"./Group-B1PMGyxu.mjs";import"./index-CeJhG9t7.mjs";import"./index-CkI6h8s8.mjs";import"./get-popup-container-BwMHEyJY.mjs";import"./loading-7m7uS9S_.mjs";import"./icon-button.vue_vue_type_script_setup_true_lang-BMSbb8G-.mjs";import"./x-BK4QZNWW.mjs";import"./index-crWPCwF-.mjs";const Ue=P({__name:"index",setup(i){const o={commonConfig:{labelWidth:80},schema:O(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},e={columns:G,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(t,n)=>_(this,null,function*(){const p=yield N($({},n));return{rows:K(p,{id:"menuId",pid:"parentId",children:"children"})}})}},rowConfig:{isHover:!0,keyField:"menuId"},round:!0,align:"center",showOverflow:!0,treeConfig:{parentField:"parentId",rowField:"menuId",transform:!1}},[b,m]=L({formOptions:o,gridOptions:e}),[k,d]=W({connectedComponent:z});function c(){d.setData({}),d.open()}function a(t){return _(this,null,function*(){d.setData({id:t.menuId}),d.open()})}function u(t){return _(this,null,function*(){yield F(t.menuId),yield m.query()})}function I(){var t;(t=m.grid)==null||t.setAllTreeExpand(!0)}function q(){var t;(t=m.grid)==null||t.setAllTreeExpand(!1)}return(t,n)=>{const p=R("a-button"),C=j("access");return y(),w(l(M),{"auto-content-height":!0},{default:r(()=>[s(l(b),null,{"toolbar-actions":r(()=>n[2]||(n[2]=[H("span",{class:"pl-[7px] text-[16px]"},"菜单权限列表",-1)])),"toolbar-tools":r(()=>[s(l(A),null,{default:r(()=>[s(p,{onClick:q},{default:r(()=>[f(g(t.$t("pages.common.collapse")),1)]),_:1}),s(p,{onClick:I},{default:r(()=>[f(g(t.$t("pages.common.expand")),1)]),_:1}),h((y(),w(p,{type:"primary",onClick:c},{default:r(()=>[f(g(t.$t("pages.common.add")),1)]),_:1})),[[C,["system:menu:add"],"code"]])]),_:1})]),action:r(({row:v})=>[s(l(A),null,{default:r(()=>[h((y(),w(p,{size:"small",type:"link",onClick:T=>a(v)},{default:r(()=>[f(g(t.$t("pages.common.edit")),1)]),_:2},1032,["onClick"])),[[C,["system:menu:edit"],"code"]]),s(l(J),{placement:"left",title:"确认删除？",onConfirm:T=>u(v)},{default:r(()=>[h((y(),w(p,{danger:"",size:"small",type:"link",onClick:n[0]||(n[0]=E(()=>{},["stop"]))},{default:r(()=>[f(g(t.$t("pages.common.delete")),1)]),_:1})),[[C,["system:menu:delete"],"code"]])]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:1}),s(l(k),{onReload:n[1]||(n[1]=v=>l(m).query())})]),_:1})}}});export{Ue as default};
